<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ReuseLCA - {title} case study</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
{navigation_bar}
<h1>{title}</h1>
<section class="description">
    <div style="text-align: center">
      <img src={building_photo_src} height=300px alt="Building Photo">
    </div>
    <div class="card">
        <div class="card-content">
            <h2>Description</h2>
            <p>Type of project: {project_type}</p>
            <p>Type of building: {building_type}</p>
            <p>Construction materials: {construction_materials}</p>
            <p>Square meters: {sqm}</p>
            <p>Floors: {nb_floors}</p>
            <p>Location: {location}</p>
            <p>Project phase: {project_phase}</p>
        </div>
    </div>
</section>
<section>
    <div class="card">
        <div class="card-content">
            <h2>Key metrics</h2>

            <section class="key-numbers">
            <div>
                <h3>Material Intensity</h3>
            </div>
            <div>
                <h3>Share of Reused Components</h3>
            </div>
            <div>
                <h3>Reused Components Supply Distance</h3>
            </div>
            <div>
                <h3>GHG Emissions of the construction</h3>
            </div>
            <div>
                <h3>Avoided GHG Emissions due to reuse</h3>
            </div>
            <div>
                <h3>Biogenic CO2 storage extended</h3>
            </div>
            <div>
                <p>{mat_intensity}</p><span>kg/sqm</span>
            </div>
            <div>
                <p>{share_reused}</p><span>% of total mass</span>
            </div>
            <div>
                <p>{avg_supply_distance}</p><span>km (weighted average)</span>
            </div>
            <div>
                <p>{ghg_total}</p><span>kg CO2-eq./sqm/year</span>
            </div>
            <div>
                <p>{avoided_ghg}</p><span>kg CO2-eq./sqm/year</span>
            </div>
            <div>
                <p>-{stored_bio_carb}</p><span>kg CO2-eq./sqm/year</span>
            </div>
        </section>
        </div>
    </div>
</section>
<section class="reuse-strat">
    <div class="card">
        <div class="card-content">
            <h2>Reuse strategy</h2>
            <div>
                <p style="text-align:center;"><img src={reuse_map_src} alt="Reuse map" width=800px></p>
            </div>
        </div>
    </div>
</section>
<section class="material-analysis">
    <div class="card">
        <div class="card-content">
            <h2>Material mass analysis</h2>
                <div>
                    <button id="button_mat_component" onclick="loadMatSunburst('{material_sunburst}'); setActiveButtonsMatSunBurst('button_mat_component')">Building components</button>
                    <button id="button_mat_ebkp" onclick="loadMatSunburst('{material_sunburst_ebkp}'); setActiveButtonsMatSunBurst('button_mat_ebkp')">e-BKP categories</button>
                </div>
                <div>
                    <iframe id="material_sunburst"  src={material_sunburst} style="width: 100%; height: 700px; border: 0">  </iframe>
                </div>
        </div>
    </div>
</section>
<section class="building-impacts">
    <div class="card">
        <div class="card-content">
            <h2>Building LCA impacts</h2>
            <div>
                <button id="button_1_ad" onclick="loadBuildingImpTable('{impacts_table}'); setActiveButtonsBImpTable('button_1_ad')">Actual design</button>
                <button id="button_1_nv" onclick="loadBuildingImpTable('{impacts_table_new}'); setActiveButtonsBImpTable('button_1_nv')">"Only new" variant</button>
            </div>
            <div>
                <iframe id="building-lca" style="width: 1000px; height: 300px; border: 0">  </iframe>
            </div>
        </div>
    </div>
</section>
<section class="components-impacts">
    <div class="card">
        <div class="card-content">
            <h2>LCA of reused components</h2>
            <div>
                <button id="button_comparison_gwp" onclick="loadBarCompar('{reused_comp_GWP_bar}'); setActiveButtonsBarCompar('button_comparison_gwp')">GHG emissions</button>
                <button id="button_comparison_ubp" onclick="loadBarCompar('{reused_comp_UBP_bar}'); setActiveButtonsBarCompar('button_comparison_ubp')">Ecological scarcity</button>
                <button id="button_comparison_penr" onclick="loadBarCompar('{reused_comp_PE_NR_bar}'); setActiveButtonsBarCompar('button_comparison_penr')">Primary energy, non-renewable</button>
            </div>
            <div>
                <iframe id="bar_comparison" width="100%" style="width: 100%; height: 600px; border: 0">  </iframe>
            </div>
        </div>
    </div>
</section>
<footer>
    <p>Reuse-LCA - HEIG-VD/LESBAT</p>
    <a href="https://github.com/LESBAT-HEIG-VD/Reuse-LCA-Hobelwerk">Code on github</a>
</footer>


<script>
    function loadMatSunburst(url) {
      document.getElementById("material_sunburst").src = url;
    }
    function loadBuildingImpTable(url) {
      document.getElementById("building-lca").src = url;
    }
    function loadBarCompar(url) {
      document.getElementById("bar_comparison").src = url;
    }

    function setActiveButtonsBImpTable(buttonId) {
      // Remove the "active" class from all buttons
      var buttons = document.querySelectorAll("#button_1_ad, #button_1_nv");
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove("active");
      }
      // Add the "active" class to the clicked button
      var button = document.getElementById(buttonId);
      button.classList.add("active");
    }
    function setActiveButtonsMatSunBurst(buttonId) {
      // Remove the "active" class from all buttons
      var buttons = document.querySelectorAll("#button_mat_component, #button_mat_ebkp");
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove("active");
      }
      // Add the "active" class to the clicked button
      var button = document.getElementById(buttonId);
      button.classList.add("active");
    }
    function setActiveButtonsBarCompar(buttonId) {
      // Remove the "active" class from all buttons
      var buttons = document.querySelectorAll("#button_comparison_gwp, #button_comparison_ubp, #button_comparison_penr");
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove("active");
      }
      // Add the "active" class to the clicked button
      var button = document.getElementById(buttonId);
      button.classList.add("active");
    }

    // Load the default page when the page first loads
    window.onload = function() {
      loadBuildingImpTable('{impacts_table}');
      setActiveButtonsBImpTable("button_1_ad");
      loadMatSunburst('{material_sunburst}');
      setActiveButtonsMatSunBurst("button_mat_component");
      loadBarCompar('{reused_comp_GWP_bar}');
      setActiveButtonsBarCompar('button_comparison_gwp')
    };
    </script>
</body>

</html>